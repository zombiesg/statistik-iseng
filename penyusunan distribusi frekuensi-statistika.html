<!DOCTYPE html>
<html>
    <head>
        <style>
            table, th, td {
              border: 1px solid black;
            }
            </style>
    </head>
    <body>
        <text>Steven Heryanto-32180057</text>
        <br><br>
        <p>1. Urutkan data dari yang terkecil sampai yang terbesar:</p>
        <code id="step1">ssdsd</code>
        <p>2. Tentukan rentang kelas interval:</p>
        <code id="step2">ssdsd</code>
        <p>3. Tentukan rentang kelas interval:</p>
        <code id="step3">ssdsd</code>
        <p>4. Tentukan rentang kelas interval:</p>
        <table id="step4">
            <tr>
                <th colspan="2">interval</th>
                <th rowspan="2">Xi</th>
                <th rowspan="2">Fi</th>
            </tr>
            <tr>
                <th>BB</th>
                <th>BA</th>
            </tr>
        </table>
        
        <script>
            let data=[65,60,50,60,75,60,55,80,90,50,70,80,40,50,60,45,45,60,70,90,75,60,50,50,60,65,85,90,40,50,50,65,45,70,90];

            //step 1
            document.getElementById("step1").innerText=data.sort(function(a, b){return a - b});
            console.log(data)

            //step 2
            //let k = (1+3.322) * Math.log(35) //15.366214321757246;
            //let k = (1+3.322) * Math.log10(data.length) //6.673462087681892;
            let k = 1+3.322 * Math.log10(data.length)//6.129394043331616
            document.getElementById("step2").innerText=`k = 1 + 3.322 log ${data.length} = ${k.toFixed(2)} = ${Math.round(k)}`

            //step 3
            let Xmax=(data[data.length-1]);
            let Xmin=data[0]
            let c = ( Xmax - Xmin)/k;
            document.getElementById("step3").innerText=
            `c = (Xmax - Xmin)/k = (${Xmax} - ${Xmin})/${k.toFixed(2)} = ${c.toFixed(2)} = ${Math.round(c)}`;

            //step 4
            //BB & BA
            let lastValue=Xmin;
            let table = document.getElementById("step4");
            for(let aa=0;aa<k;aa++){
                let row = table.insertRow(-1);
                let cell1 = row.insertCell(0);
                let cell2 = row.insertCell(1);
                let cell3 = row.insertCell(2);
                let cell4 = row.insertCell(3);

                cell1.innerHTML = Math.round(lastValue);
                cell2.innerHTML = Math.round(lastValue+(c-1));
                cell3.innerHTML = ( (lastValue+(c-1) + lastValue)/2).toFixed(1)-0.1;
                //alasan 0.1 biar akurat

                let count=0
                while(data[0]<=lastValue+(c-1)){
                    data.shift();
                    count++;
                }
                cell4.innerHTML = count;
                lastValue = Math.round(lastValue+c);
            }
        </script>
    </body>
</html>
